# 云舟 (Yunzhou) | 智能电商全链路运营指挥中心

> **"轻舟已过万重山"** —— 搭载 Gemini AI 的新一代电商私有化智能运营系统。

## 🚢 系统愿景
**云舟 (Yunzhou)** 是一款专为高阶电商团队设计的“数据+AI”双驱动作战系统。它打破了传统 BI 报表只看不做的局限，通过**本地 IndexedDB 存储**保障核心数据主权，并深度集成 **Google Gemini 3.0** 模型，实现了从数据清洗、利润穿透、销售预测到文案/视觉生成的一站式闭环。

---

## 🏗️ 核心架构逻辑 (Architecture)

### 1. 数据资产私有化 (Local-First)
*   **本地手术室**: 核心业务数据（商智、广告、客服）存储在浏览器本地的 `IndexedDB` 中，绝不上云，彻底规避平台接口数据外泄风险。
*   **云端镜像**: 通过 `Supabase` 实现多端同步，数据以加密 JSON 镜像形式在不同设备间瞬间“握手”。

### 2. AI 指标穿透技术 (AI-Driven Insight)
*   **双轨匹配**: 系统利用 AI 模糊匹配技术，将混乱的原始 Excel 表头自动映射至系统标准化字段。
*   **物理层治理**: 通过「底层治理」模块，用户可直接对手工上传的错误数据进行物理级删除或修正。

---

## 🛠️ 模块阵列 (Feature Matrix)

### 📈 战略指挥 (Strategic Command)
*   **AI 仪表盘**: 实时 GMV、ROI 监控，集成 AI 趋势审计面板，自动诊断业务异动。
*   **多维透视**: 跨数据源聚合查询，支持 SKU 级/店铺级的日、周、月维度穿透分析。
*   **运营报表**: 自动化生成对比周报，自带 AI 运营总监视角的深度点评。

### ⚡ 智慧运营 (Smart Ops)
*   **盈利分析**: 自动核算「GMV - 货品成本 - 广告花费」，实现 SKU 级净利润穿透。
*   **补货策略**: 根据近 7/15 日销，智能触发库存预警，支持一键虚拟补货模拟。
*   **竞品监控**: (Beta) 针对竞品价格异动、流量变化的视觉化透视系统。

### 🎨 创作工场 (Creation Factory)
*   **文案实验室**: 支持京东/淘宝、小红书、抖音等多种风格的销售文案一键生成。
*   **视觉创意舱**: 搭载 `Gemini-2.5-Flash-Image`，通过商品参数自动创作高精细度广告展示图。
*   **智能客服**: 挂载 SKU 资产库的 AI 客服大脑，秒级生成专业、礼貌的咨询回复。
*   **智能报价**: 针对装机/配件类目定制的精密报价引擎，支持进位对齐算法。

### 🏗️ 数字底座 (Core Foundation)
*   **底层治理**: 物理库（Fact Tables）的直接管理中心，支持自定义 Schema 映射。
*   **资产名录**: SKU 静态数据与店铺主数据的 MDM 管理中心。
*   **数据中心**: 支持 UPSERT 逻辑的高频 Excel 注入系统。

---

## 🚀 PyCharm 开发者指南

### 环境准备
1.  **API_KEY**: 系统依赖 `process.env.API_KEY`，请在环境配置文件中确保配置。
2.  **模块位置**:
    *   `views/`: 业务视图组件，每个文件对应侧边栏一个功能块。
    *   `lib/db.ts`: IndexedDB 封装层，处理物理表（fact_）与配置（app_config）逻辑。
    *   `lib/schemas.ts`: 定义了商智与广告的映射底座。

### 核心计算逻辑修改
若需调整利润计算逻辑或补货预警线，请查阅：
*   利润分析: `views/AIProfitAnalyticsView.tsx`
*   补货逻辑: `views/AISmartReplenishmentView.tsx`

---

## 🎨 视觉规范
*   **品牌色**: `#70AD47` (云舟绿)
*   **设计语言**: 现代极简主义。AI 结果面板采用**纯净白 (White)** 背景，配合磨砂玻璃质感与 `Inter` 字体，强调数据的易读性与专业感。

---
*文档版本: 2.5*
*架构师: 梧桐翁*
*最后更新: 2026.01*